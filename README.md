# ChatClient

基于 Socket 的聊天客户端程序，使用 C++ 开发，支持 Windows 平台，配合 ChatServer 使用。

## 功能特点
- 实时消息收发
- "友善"的控制台界面
- 基于 Winsock2 的网络通信

## 系统架构

项目采用面向对象设计，主要包含以下几个模块：

- **Net**: 网络通信模块，处理与服务器的 Socket 连接和消息传输
- **UI**: 用户界面模块，提供交互界面
- **Entity**: 用户实体模块，管理用户信息
- **Util**: 工具模块，提供日志等辅助功能

## 安装与使用

### 环境要求

- Windows 操作系统
- Visual Studio 2019 或更高版本
- C++11 或更高版本

### 编译步骤

1. 使用 Visual Studio 打开 `ChatClient.sln` 解决方案文件
2. 选择 Release 配置
3. 构建解决方案

### 运行客户端

1. 运行编译生成的 `ChatClient.exe`
2. 输入服务器 IP 地址和端口（默认为 127.0.0.1:56789）
3. 输入用户名和密码进行登录或注册

### 使用说明

#### 登录/注册
- 启动程序后，输入用户名和密码
- 如果是新用户，系统会自动注册

#### 聊天功能
- 在消息输入框中输入消息，按回车发送
- 使用 `/private <用户名> <消息>` 发送私聊消息
- 使用 `/quit` 退出程序

## 与服务器的连接

客户端通过 Socket 连接到 ChatServer，默认连接参数：
- IP: 127.0.0.1
- 端口: 56789

可以在启动时修改这些参数。

## 开发文档

### 主要类说明

#### Client 类
客户端核心类，负责：
- 初始化 Socket
- 连接服务器
- 发送和接收消息

#### User 类
用户实体类，存储：
- 用户名
- 用户状态

#### MessageHandler 类
消息处理类，负责：
- 解析服务器消息
- 格式化发送消息

### 网络通信流程

1. 客户端初始化 Winsock
2. 创建客户端 Socket 并连接到服务器
3. 发送登录/注册请求
4. 接收服务器响应
5. 建立消息收发循环
6. 断开连接时清理资源

## 贡献指南

欢迎提交 Pull Request 或 Issue 来帮助改进项目。

## 相关项目

- [ChatServer](https://github.com/yueyingyifeng/CPPChatServer) - 配套的聊天服务器程序
